require 'thor'

require './oynx_back'

class Oynx < Thor
	desc "new", "create a new website"
	long_desc <<-LONGDESC
		`oynx new` will create a new website in the current directory.

		Optional Parameters
		\x5-------------------

		--default     - Create a site with default information

		--name "NAME" - Specify the site's name.
	LONGDESC
	option :name
	option :default, :type => :boolean
	def new
		if options[:default] then
			Oynx_Back.new.create_site()
		else
			config = {}
			if options[:name]
				config["name"] = options[:name]
			end
			Oynx_Back.new(c).create_site
		end
	end
end

Oynx.start(ARGV)